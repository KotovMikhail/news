"use strict";$(document).ready(function(){svg4everybody(),window.util={isEscEvent:function(e,t){27===e.keyCode&&t()},getScrollbarWidth:function(){return window.innerWidth-document.documentElement.clientWidth}},function(){var n="14px",o=document.querySelector(".header__nav-toggle"),e=document.querySelector(".modal__nav"),t=e.parentNode,c=document.querySelector(".modal__nav-link"),r=!1,i=window.util.getScrollbarWidth()+"px",l=document.querySelector(".tooltip"),s=e.querySelectorAll(".main-nav__link"),a=function(){r=!r,t.classList.toggle("js-box-closed"),o.classList.toggle("js-close-btn"),r?(document.addEventListener("keydown",u),t.addEventListener("click",d)):document.removeEventListener("keydown",u)},d=function(e){e.target===t?a():e.target===h&&p()},u=function(e){r?window.util.isEscEvent(e,a):window.util.isEscEvent(e,p)},m=function(){a()};o.addEventListener("click",function(e){e.preventDefault(),a()});for(var v=0;v<s.length;v++)s[v].addEventListener("click",m);if(c){var f=document.querySelector(".modal__contact"),h=f.parentNode,_=f.querySelector(".modal__close-btn"),y=f.querySelector(".contact__input--name"),p=function(){var e=document.documentElement.clientWidth;h.classList.add("js-box-closed"),document.removeEventListener("keydown",u),o.style.zIndex="1002",document.documentElement.style.overflowY="auto",document.body.style.paddingRight="0",l.style.right=1025<=e?"0.972vw":n},L=function(e){e.preventDefault(),p()};c.addEventListener("click",function(e){var t=document.documentElement.clientWidth;e.preventDefault(),a(),document.documentElement.style.overflowY="hidden",document.body.style.paddingRight=i,l.style.right=1025<=t?(parseInt(i,10)+parseInt(n,10))/1440*100+"vw":parseInt(i,10)+parseInt(n,10)+"px",h.classList.remove("js-box-closed"),_.addEventListener("click",L),h.addEventListener("click",d),document.addEventListener("keydown",u),y.focus(),o.style.zIndex="1"})}}();document.querySelector("body");var t,n=document.querySelectorAll(".tooltip__link"),o=document.querySelectorAll(".main-nav__link"),c=document.querySelector(".tooltip__link.js-active"),r=document.querySelector(".main-nav__link.js-active"),i=(document.querySelector(".btn-round--down"),document.querySelector(".header__nav-icon")),l=function(e){r.classList.remove("js-active"),(r=e).classList.add("js-active")},s=function(e){c.classList.remove("js-active"),(c=e).classList.add("js-active")},a=function(e){var t=e.target;e.target.classList.contains("tooltip__link")?s(t):e.target.classList.contains("main-nav__link")&&l(t)},d=function(){var e=$(document).scrollTop();$(n).each(function(){e>=$($(this).attr("href")).offset().top-1&&s(this)}),$(o).each(function(){e>=$($(this).attr("href")).offset().top-1&&l(this)})},e=function(e){e.addEventListener("click",a)};window.addEventListener("scroll",function(){var e;t||(t=setTimeout(function(){t=null,d()},1e3)),e=$(document).scrollTop(),$(o).each(function(){e>=$($(this).attr("href")).offset().top-45&&("rgb(255, 255, 255)"===$($(this).attr("href")).css("backgroundColor")?i.classList.add("js-color"):i.classList.remove("js-color"))})});for(var u=0;u<n.length;u++)e(n[u]),e(o[u]);d();var m,v,f,h,_,y,p,L,w,b,g,S,k,q,E,x,j,C,T,M,W,A,D=new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,scrollContainer:null,callback:function(e){e.addEventListener("animationend",function(){e.classList.remove("wow")},!1)}}),I=new WOW({boxClass:"wowIntro",animateClass:"animated",offset:0,mobile:!0,live:!0,scrollContainer:null});D.init(),I.init(),m=document.querySelector(".brand"),v=document.querySelector(".technology"),f=m.querySelector(".slider--brand"),h=v.querySelector(".slider--technology"),(_=function(e,t){var n,o=e.querySelector(".slider__items").querySelectorAll(".slider__item"),c=o.length,r=e.querySelector(".slider__control--prev"),i=e.querySelector(".slider__control--next"),l=0,s=o[l],a=t.querySelectorAll(".slider-stickers .stickers"),d=a[l],u=function(){d.classList.remove("js-active"),(d=a[l]).classList.add("js-active")},m=function(){null!==s.getAttribute("data-background")?(n=s.getAttribute("data-background"),t.classList.add(n)):t.classList.remove(n)},v=function(e){var t="prev"===e?"slider__item--next":"slider__item--prev";s.classList.add(t),s.classList.remove("slider__item--active"),(s=o[l]).classList.add("slider__item--active"),s.classList.remove("slider__item--next"),s.classList.remove("slider__item--prev")};r.addEventListener("click",function(e){e.preventDefault(),l===c-1&&(i.classList.remove("slider__control--disabled"),i.disabled=!1),--l||(r.classList.add("slider__control--disabled"),r.disabled=!0,i.classList.add("slider__control--first")),v("prev"),m(),u()}),i.addEventListener("click",function(e){e.preventDefault(),l||(r.classList.remove("slider__control--disabled"),r.disabled=!1,i.classList.remove("slider__control--first")),++l==c-1&&(i.classList.add("slider__control--disabled"),i.disabled=!0),v("next"),m(),u()})})(f,m),_(h,v),$(".animate-scroll").click(function(e){e.preventDefault();var t=$(this).attr("href");$(t).animatescroll()}),y=document.querySelector(".contact__form--modal"),p=y.querySelector(".contact__btn--modal"),L=y.querySelector('input[type="checkbox"]'),w=document.querySelector(".contact__form--result"),b=w.querySelector(".contact__btn--result"),g=w.querySelector('input[type="checkbox"]'),S=document.querySelector(".contact__form--support"),k=S.querySelector(".contact__btn--support"),q=S.querySelector('input[type="checkbox"]'),E=document.querySelector(".contact__form--help"),x=E.querySelector(".contact__btn--help"),j=E.querySelector('input[type="checkbox"]'),C=function(e){e.addEventListener("input",function(){e.checkValidity()&&e.parentNode.classList.remove("contact__input-wrapper--invalid")})},T=function(e){for(var t=e.target.form.querySelectorAll('input:not([type="checkbox"]'),n=!1,o=0;o<t.length;o++){var c=t[o];C(c),!1===c.checkValidity()&&(c.parentNode.classList.add("contact__input-wrapper--invalid"),n=!0)}n&&e.preventDefault()},M=function(e){var t=e.target.form.querySelector("button");e.target.checked?t.disabled=!1:t.disabled=!0},p.addEventListener("click",T),b.addEventListener("click",T),k.addEventListener("click",T),x.addEventListener("click",T),L.addEventListener("change",M),g.addEventListener("change",M),q.addEventListener("change",M),j.addEventListener("change",M),W=document.querySelectorAll('input[type="tel"]'),A=function(e){e.onkeypress=function(e){if(!((e=e||event).ctrlKey||e.altKey||e.metaKey)){var t=function(e){var t=null;e.keyCode<32||(null==e.which?t=String.fromCharCode(e.keyCode):0!=e.which&&0!=e.charCode&&(t=String.fromCharCode(e.which)));return t}(e);if(null!=t&&"+"!==t)return!(t<"0"||"9"<t)&&void 0}}},function(e){for(var t=0;t<e.length;t++){var n=e[t];A(n)}}(W),function(){for(var e=document.querySelectorAll(".slider--technology .stickers__item"),t=function(e){e.addEventListener("touchstart",function(){("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&e.classList.contains("js-no-touch")&&e.classList.remove("js-no-touch"),e.classList.toggle("js-active")})},n=0;n<e.length;n++)t(e[n])}();new SJ({options:{hlw:!0},settings:{windowResize:!0}});var H=document.querySelector(".tooltip");function z(e){var t=document.documentElement.clientWidth;if(1025<=document.documentElement.clientWidth){var n,o=10*Math.round(Math.round(.0236111111111111*t)/10)+"px",c=10*Math.round(Math.round(.025*t)/10)+"px",r=10*Math.round(Math.round(6944e-7*t)/10)+"px",i=".tooltip__circle-left::after{border-radius:"+o+" 0 0 "+o+";border-width:"+r+";}",l=".tooltip__circle-right::after{border-radius:0 "+o+" "+o+" 0;border-width:"+r+";}",s=".tooltip__item{height:"+c+";width:"+c+"}";e?((n=H.querySelector("style")).innerHTML=i,n.innerHTML+=l,n.innerHTML+=s):((n=document.createElement("style")).innerHTML=i,n.innerHTML+=l,n.innerHTML+=s,H.appendChild(n))}}z(!1),window.addEventListener("resize",function(){z(!0)}),function(){for(var e=document.querySelectorAll(".btn-round"),t=function(e){e.addEventListener("touchstart",function(){("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&e.classList.contains("js-no-touch")&&e.classList.remove("js-no-touch")})},n=0;n<e.length;n++)t(e[n])}(),vhCheck({onUpdate:function(){I.init()}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJzdmc0ZXZlcnlib2R5Iiwid2luZG93IiwidXRpbCIsImlzRXNjRXZlbnQiLCJldnQiLCJjYiIsImtleUNvZGUiLCJnZXRTY3JvbGxiYXJXaWR0aCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsIlRPT0xUSVBfQ09PUkQiLCJtZW51VG9nZ2xlIiwicXVlcnlTZWxlY3RvciIsIm1vZGFsTmF2IiwibW9kYWwiLCJwYXJlbnROb2RlIiwibW9kYWxOYXZMaW5rIiwib3BlbmVkTW9kYWwiLCJzY3JvbGxiYXJXaWR0aCIsInRvb2x0aXAiLCJtYWluTmF2TGlua0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsInRvU3dpdGNoTWVudSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblBvcHVwRXNjUHJlc3MiLCJvbk1vZGFsQ2xpY2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwibW9kYWxDb250YWN0UGFyZW50IiwiY2xvc2VQb3B1cCIsIm9uTWFpbk5hdkxpbmtDbGljayIsInByZXZlbnREZWZhdWx0IiwiaSIsImxlbmd0aCIsIm1vZGFsQ29udGFjdCIsIm1vZGFsQ29udGFjdENsb3NlQnRuIiwiY29udGFjdElucHV0TmFtZSIsImNsaWVuV2lkdGgiLCJhZGQiLCJzdHlsZSIsInpJbmRleCIsIm92ZXJmbG93WSIsImJvZHkiLCJwYWRkaW5nUmlnaHQiLCJyaWdodCIsIm9uQ2xvc2VCdG5DbGljayIsInBhcnNlSW50IiwicmVtb3ZlIiwiZm9jdXMiLCJzY3JvbGxUaW1lb3V0IiwidG9vbHRpcExpbmtFbGVtZW50cyIsImFjdGl2ZVRvb2x0aXBMaW5rIiwiYWN0aXZlTWFpbk5hdkxpbmsiLCJoZWFkZXJOYXZJY29uIiwic3dpdGNoQWN0aXZlTWFpbk5hdkxpbmsiLCJzd2l0Y2hBY3RpdmVUb29sdGlwTGluayIsIm9uTGlua0NsaWNrIiwiY29udGFpbnMiLCJkZWZpbmVTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJlYWNoIiwidGhpcyIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJhZGRMaW5rQ2xpY2tMaXN0ZW5lciIsImVsZW1lbnQiLCJzZXRUaW1lb3V0IiwiY3NzIiwiYnJhbmRCbG9jayIsInRlY2hub2xvZ3lCbG9jayIsInNsaWRlckJyYW5kIiwic2xpZGVyVGVjaG5vbG9neSIsImluaXRTbGlkZXIiLCJjb250YWN0Rm9ybU1vZGFsIiwiY29udGFjdEJ0bk1vZGFsIiwiY2hlY2tib3hNb2RhbCIsImNvbnRhY3RGb3JtUmVzdWx0IiwiY29udGFjdEJ0blJlc3VsdCIsImNoZWNrYm94UmVzdWx0IiwiY29udGFjdEZvcm1TdXBwb3J0IiwiY29udGFjdEJ0blN1cHBvcnQiLCJjaGVja2JveFN1cHBvcnQiLCJjb250YWN0Rm9ybUhlbHAiLCJjb250YWN0QnRuSGVscCIsImNoZWNrYm94SGVscCIsImFkZElucHV0TGlzdGVuZXIiLCJvblN1Ym1pdEJ0bkNsaWNrIiwib25DaGVja2JveENoYW5nZSIsImlucHV0c1RlbCIsImFkZEtleXByZXNzTGlzdGVuZXIiLCJ3b3ciLCJXT1ciLCJib3hDbGFzcyIsImFuaW1hdGVDbGFzcyIsIm1vYmlsZSIsImxpdmUiLCJzY3JvbGxDb250YWluZXIiLCJjYWxsYmFjayIsImJveCIsIndvd0ludHJvIiwiaW5pdCIsInNsaWRlciIsImJsb2NrIiwiYmxvY2tDbGFzcyIsInNsaWRlckl0ZW1FbGVtZW50cyIsInNsaWRlckxlbmd0aCIsInNsaWRlclByZXZCdG4iLCJzbGlkZXJOZXh0QnRuIiwiY3VycmVudEluZGV4IiwiYWN0aXZlU2xpZGUiLCJzdGlja2Vyc0xpc3QiLCJjdXJyZW50U3RpY2tlcnMiLCJhZGRTdGlja2VyIiwiY2hlY2tEYXRhQmFja2dyb3VuZCIsImdldEF0dHJpYnV0ZSIsImNoYW5nZUFjdGl2ZVNsaWRlIiwibW92ZSIsIm1vdmVDbGFzcyIsImRpc2FibGVkIiwiY2xpY2siLCJzY3JvbGxJZCIsImFuaW1hdGVzY3JvbGwiLCJpbnB1dCIsImNoZWNrVmFsaWRpdHkiLCJpbnB1dHMiLCJmb3JtIiwic3RvcFN1Ym1pdCIsImN1cnJlbnRCdXR0b24iLCJvbmtleXByZXNzIiwiZSIsImV2ZW50IiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJjaHIiLCJjb2RlIiwid2hpY2giLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjaGFyQ29kZSIsImdldENoYXIiLCJzZXRMaXN0ZW5lciIsInJldmVyc2libGVTdGlja2VycyIsInNldFN0aWNrZXJMaXN0ZW5lciIsIkRvY3VtZW50VG91Y2giLCJTSiIsIm9wdGlvbnMiLCJobHciLCJzZXR0aW5ncyIsIndpbmRvd1Jlc2l6ZSIsInRvb2x0aXBzIiwidG9vbHRpcFJlc2l6ZSIsImdlbmVyYXRlU3R5bGVzIiwicmFkaXVzIiwiTWF0aCIsInJvdW5kIiwidG9vbHRpcFNpemUiLCJib3JkZXJXaWR0aCIsImxlZnRTaWRlU3R5bGUiLCJyaWdodFNpZGVTdHlsZSIsInRvb2x0aXBJdGVtIiwiaW5uZXJIVE1MIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiYnRuUm91bmRFbGVtZW50cyIsImRlZmluZVR5cGVEZXZpY2UiLCJ2aENoZWNrIiwib25VcGRhdGUiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FDaEJDLGdCQUtFQyxPQUFPQyxLQUFPLENBQ1pDLFdBQVksU0FBVUMsRUFBS0MsR0FIWCxLQUlWRCxFQUFJRSxTQUNORCxLQUlKRSxrQkFBbUIsV0FDakIsT0FBT04sT0FBT08sV0FBYVYsU0FBU1csZ0JBQWdCQyxjQUl6RCxXQUNDLElBQUlDLEVBQWdCLE9BR2hCQyxFQUFhZCxTQUFTZSxjQUFjLHVCQUNwQ0MsRUFBV2hCLFNBQVNlLGNBQWMsZUFDbENFLEVBQVFELEVBQVNFLFdBQ2pCQyxFQUFlbkIsU0FBU2UsY0FBYyxvQkFDdENLLEdBQWMsRUFDZEMsRUFBaUJsQixPQUFPQyxL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QUFpQnBJLE9BQVFELElBQzNDc0ksRUFBaUJELEVBQWlCckksSUFkdEMsR0FpQkF1SSxRQUFRLENBQ05DLFNBQVUsV0FDUnBFLEVBQVNDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICBzdmc0ZXZlcnlib2R5KCk7XHJcblxyXG4gIChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgRVNDX0tFWUNPREUgPSAyNztcclxuICBcclxuICAgIHdpbmRvdy51dGlsID0ge1xyXG4gICAgICBpc0VzY0V2ZW50OiBmdW5jdGlvbiAoZXZ0LCBjYikge1xyXG4gICAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gRVNDX0tFWUNPREUpIHtcclxuICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gIFxyXG4gICAgICBnZXRTY3JvbGxiYXJXaWR0aDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pKCk7XHJcbiAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgVE9PTFRJUF9DT09SRCA9ICcxNHB4JztcclxuICAgIHZhciBQUk9QT1JUSU9OQUxfQ09PUkQgPSAnMC45NzJ2dyc7XHJcbiAgICB2YXIgTEFQVE9QID0gMTAyNTtcclxuICAgIHZhciBtZW51VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2LXRvZ2dsZScpO1xyXG4gICAgdmFyIG1vZGFsTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19uYXYnKTtcclxuICAgIHZhciBtb2RhbCA9IG1vZGFsTmF2LnBhcmVudE5vZGU7XHJcbiAgICB2YXIgbW9kYWxOYXZMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19uYXYtbGluaycpO1xyXG4gICAgdmFyIG9wZW5lZE1vZGFsID0gZmFsc2U7XHJcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB3aW5kb3cudXRpbC5nZXRTY3JvbGxiYXJXaWR0aCgpICsgJ3B4JztcclxuICAgIHZhciB0b29sdGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvb2x0aXAnKTtcclxuICAgIHZhciBtYWluTmF2TGlua0VsZW1lbnRzID0gbW9kYWxOYXYucXVlcnlTZWxlY3RvckFsbCgnLm1haW4tbmF2X19saW5rJyk7XHJcbiAgXHJcbiAgICB2YXIgdG9Td2l0Y2hNZW51ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBvcGVuZWRNb2RhbCA9ICFvcGVuZWRNb2RhbDtcclxuICAgICAgbW9kYWwuY2xhc3NMaXN0LnRvZ2dsZSgnanMtYm94LWNsb3NlZCcpO1xyXG4gICAgICBtZW51VG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2pzLWNsb3NlLWJ0bicpO1xyXG4gIFxyXG4gICAgICBpZiAob3BlbmVkTW9kYWwpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25Qb3B1cEVzY1ByZXNzKTtcclxuICAgICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uTW9kYWxDbGljayk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uUG9wdXBFc2NQcmVzcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHZhciBvbk1vZGFsQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSBtb2RhbCkge1xyXG4gICAgICAgIHRvU3dpdGNoTWVudSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKGV2dC50YXJnZXQgPT09IG1vZGFsQ29udGFjdFBhcmVudCkge1xyXG4gICAgICAgIGNsb3NlUG9wdXAoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgdmFyIG9uUG9wdXBFc2NQcmVzcyA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgaWYgKG9wZW5lZE1vZGFsKSB7XHJcbiAgICAgICAgd2luZG93LnV0aWwuaXNFc2NFdmVudChldnQsIHRvU3dpdGNoTWVudSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2luZG93LnV0aWwuaXNFc2NFdmVudChldnQsIGNsb3NlUG9wdXApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIFxyXG4gICAgdmFyIG9uTWFpbk5hdkxpbmtDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdG9Td2l0Y2hNZW51KCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICB2YXIgYWRkTGlua0NsaWNrTGlzdGVuZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25NYWluTmF2TGlua0NsaWNrKTtcclxuICAgIH1cclxuICBcclxuICAgIG1lbnVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0b1N3aXRjaE1lbnUoKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYWluTmF2TGlua0VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFkZExpbmtDbGlja0xpc3RlbmVyKG1haW5OYXZMaW5rRWxlbWVudHNbaV0pO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgaWYgKG1vZGFsTmF2TGluaykge1xyXG4gICAgICB2YXIgbW9kYWxDb250YWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jb250YWN0Jyk7XHJcbiAgICAgIHZhciBtb2RhbENvbnRhY3RQYXJlbnQgPSBtb2RhbENvbnRhY3QucGFyZW50Tm9kZTtcclxuICAgICAgdmFyIG1vZGFsQ29udGFjdENsb3NlQnRuID0gbW9kYWxDb250YWN0LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnRuJyk7XHJcbiAgICAgIHZhciBjb250YWN0SW5wdXROYW1lID0gbW9kYWxDb250YWN0LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19pbnB1dC0tbmFtZScpO1xyXG4gIFxyXG4gICAgICB2YXIgY2xvc2VQb3B1cCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2xpZW5XaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICBtb2RhbENvbnRhY3RQYXJlbnQuY2xhc3NMaXN0LmFkZCgnanMtYm94LWNsb3NlZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvblBvcHVwRXNjUHJlc3MpO1xyXG4gICAgICAgIG1lbnVUb2dnbGUuc3R5bGUuekluZGV4ID0gJzEwMDInO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMCc7XHJcbiAgICAgICAgaWYgKGNsaWVuV2lkdGggPj0gTEFQVE9QKSB7XHJcbiAgICAgICAgICB0b29sdGlwLnN0eWxlLnJpZ2h0ID0gUFJPUE9SVElPTkFMX0NPT1JEO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0b29sdGlwLnN0eWxlLnJpZ2h0ID0gVE9PTFRJUF9DT09SRDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgdmFyIG9uQ2xvc2VCdG5DbGljayA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjbG9zZVBvcHVwKCk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgdmFyIG9uTmF2TGlua0NsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgIHZhciBjbGllbldpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRvU3dpdGNoTWVudSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHNjcm9sbGJhcldpZHRoO1xyXG4gICAgICAgIGlmIChjbGllbldpZHRoID49IExBUFRPUCkge1xyXG4gICAgICAgICAgdG9vbHRpcC5zdHlsZS5yaWdodCA9IChwYXJzZUludChzY3JvbGxiYXJXaWR0aCwgMTApICsgcGFyc2VJbnQoVE9PTFRJUF9DT09SRCwgMTApKSAvIDE0NDAgKiAxMDAgKyAndncnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0b29sdGlwLnN0eWxlLnJpZ2h0ID0gcGFyc2VJbnQoc2Nyb2xsYmFyV2lkdGgsIDEwKSArIHBhcnNlSW50KFRPT0xUSVBfQ09PUkQsIDEwKSArICdweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vZGFsQ29udGFjdFBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdqcy1ib3gtY2xvc2VkJyk7XHJcbiAgICAgICAgbW9kYWxDb250YWN0Q2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsb3NlQnRuQ2xpY2spO1xyXG4gICAgICAgIG1vZGFsQ29udGFjdFBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uTW9kYWxDbGljayk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uUG9wdXBFc2NQcmVzcyk7XHJcbiAgICAgICAgY29udGFjdElucHV0TmFtZS5mb2N1cygpO1xyXG4gICAgICAgIG1lbnVUb2dnbGUuc3R5bGUuekluZGV4ID0gJzEnO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIG1vZGFsTmF2TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uTmF2TGlua0NsaWNrKTtcclxuICAgIH1cclxuICB9KSgpO1xyXG4gIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gIHZhciB0b29sdGlwTGlua0VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXBfX2xpbmsnKTtcclxuICB2YXIgbWFpbk5hdkxpbmtFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYWluLW5hdl9fbGluaycpO1xyXG4gIHZhciBhY3RpdmVUb29sdGlwTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b29sdGlwX19saW5rLmpzLWFjdGl2ZScpO1xyXG4gIHZhciBhY3RpdmVNYWluTmF2TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW5hdl9fbGluay5qcy1hY3RpdmUnKTtcclxuICB2YXIgYnRuUm91bmREb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1yb3VuZC0tZG93bicpO1xyXG4gIHZhciBoZWFkZXJOYXZJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2LWljb24nKTtcclxuICBcclxuICB2YXIgc3dpdGNoQWN0aXZlTWFpbk5hdkxpbmsgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICBhY3RpdmVNYWluTmF2TGluay5jbGFzc0xpc3QucmVtb3ZlKCdqcy1hY3RpdmUnKTtcclxuICAgIGFjdGl2ZU1haW5OYXZMaW5rID0gdGFyZ2V0O1xyXG4gICAgYWN0aXZlTWFpbk5hdkxpbmsuY2xhc3NMaXN0LmFkZCgnanMtYWN0aXZlJyk7XHJcbiAgfVxyXG4gIFxyXG4gIHZhciBzd2l0Y2hBY3RpdmVUb29sdGlwTGluayA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgIGFjdGl2ZVRvb2x0aXBMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWFjdGl2ZScpO1xyXG4gICAgYWN0aXZlVG9vbHRpcExpbmsgPSB0YXJnZXQ7XHJcbiAgICBhY3RpdmVUb29sdGlwTGluay5jbGFzc0xpc3QuYWRkKCdqcy1hY3RpdmUnKTtcclxuICB9XHJcbiAgXHJcbiAgdmFyIG9uTGlua0NsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgdmFyIHRhcmdldCA9IGV2dC50YXJnZXQ7XHJcbiAgXHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Rvb2x0aXBfX2xpbmsnKSkge1xyXG4gICAgICBzd2l0Y2hBY3RpdmVUb29sdGlwTGluayh0YXJnZXQpO1xyXG4gICAgfSBlbHNlIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1uYXZfX2xpbmsnKSkge1xyXG4gICAgICBzd2l0Y2hBY3RpdmVNYWluTmF2TGluayh0YXJnZXQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICB2YXIgZGVmaW5lU2Nyb2xsVG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNjcm9sbFRvcCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO1xyXG4gIFxyXG4gICAgJCh0b29sdGlwTGlua0VsZW1lbnRzKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHNjcm9sbFRvcCA+PSAkKCQodGhpcykuYXR0cignaHJlZicpKS5vZmZzZXQoKS50b3AgLSAxKSB7XHJcbiAgICAgICAgc3dpdGNoQWN0aXZlVG9vbHRpcExpbmsodGhpcyk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgXHJcbiAgICAkKG1haW5OYXZMaW5rRWxlbWVudHMpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoc2Nyb2xsVG9wID49ICQoJCh0aGlzKS5hdHRyKCdocmVmJykpLm9mZnNldCgpLnRvcCAtIDEpIHtcclxuICAgICAgICBzd2l0Y2hBY3RpdmVNYWluTmF2TGluayh0aGlzKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbiAgXHJcbiAgdmFyIHNjcm9sbFRpbWVvdXQ7XHJcbiAgdmFyIHNjcm9sbFRocm90dGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghc2Nyb2xsVGltZW91dCkge1xyXG4gICAgICBzY3JvbGxUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2Nyb2xsVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgZGVmaW5lU2Nyb2xsVG9wKCk7XHJcbiAgICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgdmFyIHN3aXRjaENvbG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNjcm9sbFRvcCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO1xyXG4gICAgJChtYWluTmF2TGlua0VsZW1lbnRzKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHNjcm9sbFRvcCA+PSAkKCQodGhpcykuYXR0cignaHJlZicpKS5vZmZzZXQoKS50b3AgLSA0NSkge1xyXG4gICAgICAgIGlmICgkKCQodGhpcykuYXR0cignaHJlZicpKS5jc3MoJ2JhY2tncm91bmRDb2xvcicpID09PSAncmdiKDI1NSwgMjU1LCAyNTUpJykge1xyXG4gICAgICAgICAgaGVhZGVyTmF2SWNvbi5jbGFzc0xpc3QuYWRkKCdqcy1jb2xvcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBoZWFkZXJOYXZJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWNvbG9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuICBcclxuICB2YXIgb25XaW5kb3dTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBzY3JvbGxUaHJvdHRsZXIoKTtcclxuICAgIHN3aXRjaENvbG9yKCk7XHJcbiAgfVxyXG4gIFxyXG4gIHZhciBhZGRMaW5rQ2xpY2tMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25MaW5rQ2xpY2spO1xyXG4gIH1cclxuICBcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25XaW5kb3dTY3JvbGwpO1xyXG4gIFxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9vbHRpcExpbmtFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgYWRkTGlua0NsaWNrTGlzdGVuZXIodG9vbHRpcExpbmtFbGVtZW50c1tpXSk7XHJcbiAgICBhZGRMaW5rQ2xpY2tMaXN0ZW5lcihtYWluTmF2TGlua0VsZW1lbnRzW2ldKTtcclxuICB9XHJcbiAgXHJcbiAgZGVmaW5lU2Nyb2xsVG9wKCk7XHJcbiAgdmFyIHdvdyA9IG5ldyBXT1coXHJcbiAgICB7XHJcbiAgICAgIGJveENsYXNzOiAgICAgJ3dvdycsICAgICAgLy8gYW5pbWF0ZWQgZWxlbWVudCBjc3MgY2xhc3MgKGRlZmF1bHQgaXMgd293KVxyXG4gICAgICBhbmltYXRlQ2xhc3M6ICdhbmltYXRlZCcsIC8vIGFuaW1hdGlvbiBjc3MgY2xhc3MgKGRlZmF1bHQgaXMgYW5pbWF0ZWQpXHJcbiAgICAgIG9mZnNldDogICAgICAgMCwgICAgICAgICAgLy8gZGlzdGFuY2UgdG8gdGhlIGVsZW1lbnQgd2hlbiB0cmlnZ2VyaW5nIHRoZSBhbmltYXRpb24gKGRlZmF1bHQgaXMgMClcclxuICAgICAgbW9iaWxlOiAgICAgICB0cnVlLCAgICAgICAvLyB0cmlnZ2VyIGFuaW1hdGlvbnMgb24gbW9iaWxlIGRldmljZXMgKGRlZmF1bHQgaXMgdHJ1ZSlcclxuICAgICAgbGl2ZTogICAgICAgICB0cnVlLCAgICAgICAvLyBhY3Qgb24gYXN5bmNocm9ub3VzbHkgbG9hZGVkIGNvbnRlbnQgKGRlZmF1bHQgaXMgdHJ1ZSlcclxuICAgICAgc2Nyb2xsQ29udGFpbmVyOiBudWxsLCAvLyBvcHRpb25hbCBzY3JvbGwgY29udGFpbmVyIHNlbGVjdG9yLCBvdGhlcndpc2UgdXNlIHdpbmRvd1xyXG4gICAgICBjYWxsYmFjazogICAgIGZ1bmN0aW9uKGJveCkge1xyXG4gICAgICAgIGJveC5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGJveC5jbGFzc0xpc3QucmVtb3ZlKCd3b3cnKTtcclxuICAgICAgICB9LCBmYWxzZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbiAgXHJcbiAgdmFyIHdvd0ludHJvID0gbmV3IFdPVyhcclxuICAgIHtcclxuICAgICAgYm94Q2xhc3M6ICAgICAnd293SW50cm8nLFxyXG4gICAgICBhbmltYXRlQ2xhc3M6ICdhbmltYXRlZCcsXHJcbiAgICAgIG9mZnNldDogICAgICAgMCxcclxuICAgICAgbW9iaWxlOiAgICAgICB0cnVlLFxyXG4gICAgICBsaXZlOiAgICAgICAgIHRydWUsXHJcbiAgICAgIHNjcm9sbENvbnRhaW5lcjogbnVsbFxyXG4gICAgfVxyXG4gICk7XHJcbiAgXHJcbiAgd293LmluaXQoKTtcclxuICB3b3dJbnRyby5pbml0KCk7XHJcbiAgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBicmFuZEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJyYW5kJyk7XHJcbiAgICB2YXIgdGVjaG5vbG9neUJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlY2hub2xvZ3knKTtcclxuICAgIHZhciBzbGlkZXJCcmFuZCA9IGJyYW5kQmxvY2sucXVlcnlTZWxlY3RvcignLnNsaWRlci0tYnJhbmQnKTtcclxuICAgIHZhciBzbGlkZXJUZWNobm9sb2d5ID0gdGVjaG5vbG9neUJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItLXRlY2hub2xvZ3knKTtcclxuICBcclxuICAgIHZhciBpbml0U2xpZGVyID0gZnVuY3Rpb24gKHNsaWRlciwgYmxvY2spIHtcclxuICAgICAgdmFyIHNsaWRlckl0ZW1zID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2l0ZW1zJyk7XHJcbiAgICAgIHZhciBzbGlkZXJJdGVtRWxlbWVudHMgPSBzbGlkZXJJdGVtcy5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19pdGVtJyk7XHJcbiAgICAgIHZhciBzbGlkZXJMZW5ndGggPSBzbGlkZXJJdGVtRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICB2YXIgc2xpZGVyUHJldkJ0biA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX19jb250cm9sLS1wcmV2Jyk7XHJcbiAgICAgIHZhciBzbGlkZXJOZXh0QnRuID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2NvbnRyb2wtLW5leHQnKTtcclxuICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IDA7XHJcbiAgICAgIHZhciBhY3RpdmVTbGlkZSA9IHNsaWRlckl0ZW1FbGVtZW50c1tjdXJyZW50SW5kZXhdO1xyXG4gICAgICB2YXIgc3RpY2tlcnNMaXN0ID0gYmxvY2sucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlci1zdGlja2VycyAuc3RpY2tlcnMnKTtcclxuICAgICAgdmFyIGN1cnJlbnRTdGlja2VycyA9IHN0aWNrZXJzTGlzdFtjdXJyZW50SW5kZXhdO1xyXG4gICAgICB2YXIgYmxvY2tDbGFzcztcclxuICBcclxuICAgICAgdmFyIGFkZFN0aWNrZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY3VycmVudFN0aWNrZXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWFjdGl2ZScpO1xyXG4gICAgICAgIGN1cnJlbnRTdGlja2VycyA9IHN0aWNrZXJzTGlzdFtjdXJyZW50SW5kZXhdO1xyXG4gICAgICAgIGN1cnJlbnRTdGlja2Vycy5jbGFzc0xpc3QuYWRkKCdqcy1hY3RpdmUnKTtcclxuICAgICAgfTtcclxuICBcclxuICAgICAgdmFyIGNoZWNrRGF0YUJhY2tncm91bmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iYWNrZ3JvdW5kJykgIT09IG51bGwpIHtcclxuICAgICAgICAgIGJsb2NrQ2xhc3MgPSBhY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmFja2dyb3VuZCcpO1xyXG4gICAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZChibG9ja0NsYXNzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZShibG9ja0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgdmFyIGNoYW5nZUFjdGl2ZVNsaWRlID0gZnVuY3Rpb24gKG1vdmUpIHtcclxuICAgICAgICB2YXIgbW92ZUNsYXNzID0gKG1vdmUgPT09ICdwcmV2JykgPyAnc2xpZGVyX19pdGVtLS1uZXh0JyA6ICdzbGlkZXJfX2l0ZW0tLXByZXYnO1xyXG4gICAgICAgIGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5hZGQobW92ZUNsYXNzKTtcclxuICBcclxuICAgICAgICBhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVySXRlbUVsZW1lbnRzW2N1cnJlbnRJbmRleF07XHJcbiAgICAgICAgYWN0aXZlU2xpZGUuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19pdGVtLS1hY3RpdmUnKTtcclxuICAgICAgICBhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2l0ZW0tLW5leHQnKTtcclxuICAgICAgICBhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2l0ZW0tLXByZXYnKTtcclxuICAgICAgfTtcclxuICBcclxuICAgICAgdmFyIG9uUHJldkJ0bkNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIFxyXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IHNsaWRlckxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHNsaWRlck5leHRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19jb250cm9sLS1kaXNhYmxlZCcpO1xyXG4gICAgICAgICAgc2xpZGVyTmV4dEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAtLWN1cnJlbnRJbmRleDtcclxuICBcclxuICAgICAgICBpZiAoIWN1cnJlbnRJbmRleCkge1xyXG4gICAgICAgICAgc2xpZGVyUHJldkJ0bi5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2NvbnRyb2wtLWRpc2FibGVkJyk7XHJcbiAgICAgICAgICBzbGlkZXJQcmV2QnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIHNsaWRlck5leHRCdG4uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19jb250cm9sLS1maXJzdCcpO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICBjaGFuZ2VBY3RpdmVTbGlkZSgncHJldicpO1xyXG4gICAgICAgIGNoZWNrRGF0YUJhY2tncm91bmQoKTtcclxuICAgICAgICBhZGRTdGlja2VyKCk7XHJcbiAgICAgIH07XHJcbiAgXHJcbiAgICAgIHZhciBvbk5leHRCdG5DbGljayA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBcclxuICAgICAgICBpZiAoIWN1cnJlbnRJbmRleCkge1xyXG4gICAgICAgICAgc2xpZGVyUHJldkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2NvbnRyb2wtLWRpc2FibGVkJyk7XHJcbiAgICAgICAgICBzbGlkZXJQcmV2QnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBzbGlkZXJOZXh0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fY29udHJvbC0tZmlyc3QnKTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgKytjdXJyZW50SW5kZXg7XHJcbiAgXHJcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gc2xpZGVyTGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgc2xpZGVyTmV4dEJ0bi5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2NvbnRyb2wtLWRpc2FibGVkJyk7XHJcbiAgICAgICAgICBzbGlkZXJOZXh0QnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgY2hhbmdlQWN0aXZlU2xpZGUoJ25leHQnKTtcclxuICAgICAgICBjaGVja0RhdGFCYWNrZ3JvdW5kKCk7XHJcbiAgICAgICAgYWRkU3RpY2tlcigpO1xyXG4gICAgICB9O1xyXG4gIFxyXG4gICAgICBzbGlkZXJQcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25QcmV2QnRuQ2xpY2spO1xyXG4gICAgICBzbGlkZXJOZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25OZXh0QnRuQ2xpY2spO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgaW5pdFNsaWRlcihzbGlkZXJCcmFuZCwgYnJhbmRCbG9jayk7XHJcbiAgICBpbml0U2xpZGVyKHNsaWRlclRlY2hub2xvZ3ksIHRlY2hub2xvZ3lCbG9jayk7XHJcbiAgfSkoKTtcclxuICBmdW5jdGlvbiBjdXN0b21TY3JvbGwgKGl0ZW0pIHtcclxuICAgICQoaXRlbSkuYW5pbWF0ZXNjcm9sbCgpO1xyXG4gIH1cclxuICBcclxuICB2YXIgYW5pbWF0ZVNjcm9sbCA9ICQoJy5hbmltYXRlLXNjcm9sbCcpO1xyXG4gIFxyXG4gIGFuaW1hdGVTY3JvbGwuY2xpY2soZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBzY3JvbGxJZCA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4gICAgY3VzdG9tU2Nyb2xsKHNjcm9sbElkKTtcclxuICB9KTtcclxuICAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvbnRhY3RGb3JtTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS0tbW9kYWwnKTtcclxuICAgIHZhciBjb250YWN0QnRuTW9kYWwgPSBjb250YWN0Rm9ybU1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19idG4tLW1vZGFsJyk7XHJcbiAgICB2YXIgY2hlY2tib3hNb2RhbCA9IGNvbnRhY3RGb3JtTW9kYWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XHJcbiAgICB2YXIgY29udGFjdEZvcm1SZXN1bHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS0tcmVzdWx0Jyk7XHJcbiAgICB2YXIgY29udGFjdEJ0blJlc3VsdCA9IGNvbnRhY3RGb3JtUmVzdWx0LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19idG4tLXJlc3VsdCcpO1xyXG4gICAgdmFyIGNoZWNrYm94UmVzdWx0ID0gY29udGFjdEZvcm1SZXN1bHQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcclxuICAgIHZhciBjb250YWN0Rm9ybVN1cHBvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS0tc3VwcG9ydCcpO1xyXG4gICAgdmFyIGNvbnRhY3RCdG5TdXBwb3J0ID0gY29udGFjdEZvcm1TdXBwb3J0LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19idG4tLXN1cHBvcnQnKTtcclxuICAgIHZhciBjaGVja2JveFN1cHBvcnQgPSBjb250YWN0Rm9ybVN1cHBvcnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcclxuICAgIHZhciBjb250YWN0Rm9ybUhlbHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS0taGVscCcpO1xyXG4gICAgdmFyIGNvbnRhY3RCdG5IZWxwID0gY29udGFjdEZvcm1IZWxwLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19idG4tLWhlbHAnKTtcclxuICAgIHZhciBjaGVja2JveEhlbHAgPSBjb250YWN0Rm9ybUhlbHAucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcclxuICBcclxuICAgIHZhciBhZGRJbnB1dExpc3RlbmVyID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpbnB1dC5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICAgIGlucHV0LnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9faW5wdXQtd3JhcHBlci0taW52YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICB2YXIgb25TdWJtaXRCdG5DbGljayA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgdmFyIGZvcm0gPSBldnQudGFyZ2V0LmZvcm07XHJcbiAgICAgIHZhciBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Om5vdChbdHlwZT1cImNoZWNrYm94XCJdJyk7XHJcbiAgICAgIHZhciBzdG9wU3VibWl0ID0gZmFsc2U7XHJcbiAgXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgXHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRzW2ldO1xyXG4gIFxyXG4gICAgICAgIGFkZElucHV0TGlzdGVuZXIoaW5wdXQpO1xyXG4gIFxyXG4gICAgICAgIGlmIChpbnB1dC5jaGVja1ZhbGlkaXR5KCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICBpbnB1dC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2NvbnRhY3RfX2lucHV0LXdyYXBwZXItLWludmFsaWQnKTtcclxuICAgICAgICAgIHN0b3BTdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBpZiAoc3RvcFN1Ym1pdCkge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIFxyXG4gICAgdmFyIG9uQ2hlY2tib3hDaGFuZ2UgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIHZhciBjdXJyZW50QnV0dG9uID0gZXZ0LnRhcmdldC5mb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xyXG4gICAgICBpZiAoIShldnQudGFyZ2V0LmNoZWNrZWQpKSB7XHJcbiAgICAgICAgY3VycmVudEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3VycmVudEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICBjb250YWN0QnRuTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblN1Ym1pdEJ0bkNsaWNrKTtcclxuICAgIGNvbnRhY3RCdG5SZXN1bHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvblN1Ym1pdEJ0bkNsaWNrKTtcclxuICAgIGNvbnRhY3RCdG5TdXBwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25TdWJtaXRCdG5DbGljayk7XHJcbiAgICBjb250YWN0QnRuSGVscC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uU3VibWl0QnRuQ2xpY2spO1xyXG4gIFxyXG4gICAgY2hlY2tib3hNb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoZWNrYm94Q2hhbmdlKTtcclxuICAgIGNoZWNrYm94UmVzdWx0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hlY2tib3hDaGFuZ2UpO1xyXG4gICAgY2hlY2tib3hTdXBwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hlY2tib3hDaGFuZ2UpO1xyXG4gICAgY2hlY2tib3hIZWxwLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ2hlY2tib3hDaGFuZ2UpO1xyXG4gIH0pKCk7XHJcbiAgXHJcbiAgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBpbnB1dHNUZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwidGVsXCJdJyk7XHJcbiAgXHJcbiAgICB2YXIgYWRkS2V5cHJlc3NMaXN0ZW5lciA9IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgICBpbnB1dC5vbmtleXByZXNzID0gZnVuY3Rpb24gKGUpIHtcclxuICBcclxuICAgICAgICBlID0gZSB8fCBldmVudDtcclxuICBcclxuICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUubWV0YUtleSkgcmV0dXJuO1xyXG4gIFxyXG4gICAgICAgIHZhciBjaHIgPSBnZXRDaGFyKGUpO1xyXG4gIFxyXG4gICAgICAgIGlmIChjaHIgPT0gbnVsbCB8fCBjaHIgPT09ICcrJykgcmV0dXJuO1xyXG4gIFxyXG4gICAgICAgIGlmIChjaHIgPCAnMCcgfHwgY2hyID4gJzknKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBzZXRMaXN0ZW5lciAoaW5wdXRzKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRzW2ldO1xyXG4gICAgICAgIGFkZEtleXByZXNzTGlzdGVuZXIoaW5wdXQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBnZXRDaGFyKGV2ZW50KSB7XHJcbiAgICAgIHZhciBjb2RlID0gbnVsbDtcclxuICBcclxuICAgICAgaWYgKCEoZXZlbnQua2V5Q29kZSA8IDMyKSkge1xyXG4gICAgICAgIGlmIChldmVudC53aGljaCA9PSBudWxsKSB7XHJcbiAgICAgICAgICBjb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC5rZXlDb2RlKSAvLyBJRVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQud2hpY2ggIT0gMCAmJiBldmVudC5jaGFyQ29kZSAhPSAwKSB7XHJcbiAgICAgICAgICBjb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC53aGljaClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmV0dXJuIGNvZGU7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBzZXRMaXN0ZW5lcihpbnB1dHNUZWwpO1xyXG4gIH0pKCk7XHJcbiAgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciByZXZlcnNpYmxlU3RpY2tlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyLS10ZWNobm9sb2d5IC5zdGlja2Vyc19faXRlbScpO1xyXG4gIFxyXG4gICAgdmFyIHNldFN0aWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoKSB7XHJcbiAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLW5vLXRvdWNoJykpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdqcy1uby10b3VjaCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2pzLWFjdGl2ZScpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICBcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmV2ZXJzaWJsZVN0aWNrZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHNldFN0aWNrZXJMaXN0ZW5lcihyZXZlcnNpYmxlU3RpY2tlcnNbaV0pO1xyXG4gICAgfVxyXG4gIH0pKCk7XHJcbiAgdmFyIFNKX3NldGlpbmdzID0ge1xyXG4gICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgaGx3OiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgd2luZG93UmVzaXplOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICB2YXIgc2ogPSBuZXcgU0ooU0pfc2V0aWluZ3MpO1xyXG4gIHZhciBUT09MVElQX1JBVEUgPSAwLjAyMzYxMTExMTExMTExMTE7XHJcbiAgdmFyIExBUFRPUF9XSURUSCA9IDEwMjU7XHJcbiAgdmFyIERFU0tUT1BfV0lEVEggPSAxODAwO1xyXG4gIHZhciBCT1JERVJfUkFUSU8gPSAwLjAwMDY5NDQ7XHJcbiAgdmFyIFRPT0xUSVBfUkFUSU8gPSAwLjAyNTtcclxuICBcclxuICB2YXIgdG9vbHRpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpO1xyXG4gIFxyXG4gIGZ1bmN0aW9uIHRvb2x0aXBSZXNpemUoZ2VuZXJhdGVTdHlsZXMpIHtcclxuICAgIHZhciBjbGllbldpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCA+PSBMQVBUT1BfV0lEVEgpIHtcclxuICAgICAgdmFyIHJhZGl1cyA9IE1hdGgucm91bmQoTWF0aC5yb3VuZChjbGllbldpZHRoICogVE9PTFRJUF9SQVRFKSAvIDEwKSAqIDEwICsgJ3B4JztcclxuICAgICAgdmFyIHRvb2x0aXBTaXplID0gTWF0aC5yb3VuZChNYXRoLnJvdW5kKGNsaWVuV2lkdGggKiBUT09MVElQX1JBVElPKSAvIDEwKSAqIDEwICsgJ3B4JztcclxuICAgICAgdmFyIGJvcmRlcldpZHRoID0gTWF0aC5yb3VuZChNYXRoLnJvdW5kKGNsaWVuV2lkdGggKiBCT1JERVJfUkFUSU8pIC8gMTApICogMTAgKyAncHgnO1xyXG4gICAgICB2YXIgc3R5bGU7XHJcbiAgICAgIHZhciBsZWZ0U2lkZVN0eWxlID0gJy50b29sdGlwX19jaXJjbGUtbGVmdDo6YWZ0ZXJ7Ym9yZGVyLXJhZGl1czonICsgcmFkaXVzICsgJyAwIDAgJyArIHJhZGl1cyArICc7Ym9yZGVyLXdpZHRoOicgKyBib3JkZXJXaWR0aCArICc7fSc7XHJcbiAgICAgIHZhciByaWdodFNpZGVTdHlsZSA9ICcudG9vbHRpcF9fY2lyY2xlLXJpZ2h0OjphZnRlcntib3JkZXItcmFkaXVzOjAgJyArIHJhZGl1cyArICcgJyArIHJhZGl1cyArICcgMDtib3JkZXItd2lkdGg6JyArIGJvcmRlcldpZHRoICsgJzt9JztcclxuICAgICAgdmFyIHRvb2x0aXBJdGVtID0gJy50b29sdGlwX19pdGVte2hlaWdodDonICsgdG9vbHRpcFNpemUgKyAnO3dpZHRoOicgKyB0b29sdGlwU2l6ZSArICd9JztcclxuICBcclxuICAgICAgaWYgKGdlbmVyYXRlU3R5bGVzKSB7XHJcbiAgICAgICAgc3R5bGUgPSB0b29sdGlwcy5xdWVyeVNlbGVjdG9yKCdzdHlsZScpO1xyXG4gICAgICAgIHN0eWxlLmlubmVySFRNTCA9IGxlZnRTaWRlU3R5bGU7XHJcbiAgICAgICAgc3R5bGUuaW5uZXJIVE1MICs9IHJpZ2h0U2lkZVN0eWxlO1xyXG4gICAgICAgIHN0eWxlLmlubmVySFRNTCArPSB0b29sdGlwSXRlbTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gbGVmdFNpZGVTdHlsZTtcclxuICAgICAgICBzdHlsZS5pbm5lckhUTUwgKz0gcmlnaHRTaWRlU3R5bGU7XHJcbiAgICAgICAgc3R5bGUuaW5uZXJIVE1MICs9IHRvb2x0aXBJdGVtO1xyXG4gICAgICAgIHRvb2x0aXBzLmFwcGVuZENoaWxkKHN0eWxlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICB0b29sdGlwUmVzaXplKGZhbHNlKTtcclxuICBcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgdG9vbHRpcFJlc2l6ZSh0cnVlKTtcclxuICB9KTtcclxuICAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJ0blJvdW5kRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuLXJvdW5kJyk7XHJcbiAgXHJcbiAgICB2YXIgZGVmaW5lVHlwZURldmljZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoKSB7XHJcbiAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLW5vLXRvdWNoJykpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdqcy1uby10b3VjaCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ0blJvdW5kRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZGVmaW5lVHlwZURldmljZShidG5Sb3VuZEVsZW1lbnRzW2ldKTtcclxuICAgIH1cclxuICB9KSgpO1xyXG4gIHZoQ2hlY2soe1xyXG4gICAgb25VcGRhdGU6IGZ1bmN0aW9uIG5vb3AoKSB7XHJcbiAgICAgIHdvd0ludHJvLmluaXQoKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7Il19
